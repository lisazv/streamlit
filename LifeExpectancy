import pandas as pd
import geopandas as gdf
import seaborn as sns
import plotly.express as px
# data inladen via API
!kaggle datasets download -d lashagoch/life-expectancy-who-updated
!unzip life-expectancy-who-updated.zip
# Data inladen m.b.v. csv
pd.set_option('display.max_columns', None)
life_exp = pd.read_csv('Life-Expectancy-Data-Updated.csv')
import geopandas as gdf
world = gdf.read_file(gdf.datasets.get_path('naturalearth_lowres'))
#data sets mergen
df = life_exp.merge(world, left_on = 'Country', right_on = 'name', how = 'left')
df['Mean_Life_Expectancy'] = df.groupby(['Region', 'Year'])
['Life_expectancy'].transform('mean')
f,ax = plt.subplots(1,2, figsize=(20,7), squeeze=False)
# Grafiek weergave uitgave per klasse
sns.lineplot(x = 'Year', y='Mean_Life_Expectancy', hue='Region', data=df, ax=ax[0,0])
ax[0,0].set(title = "Region life expectancy in years", xlabel = "Years", ylabel = "Mean_Life_Expectancy")
# # Boxplot van de klasse met de uitgave
# sns.boxplot(data=train, x = "Pclass", y = "Fare", hue = "Survived", ax=ax[0,1])
# ax[0,1].set(title = "Uitgave per klasse (boxplot)", xlabel = "Klasse", ylabel = "Uitgave")
# plt.show()
[Text(0.5, 1.0, 'Region life expectancy in years'),
 Text(0.5, 0, 'Years'),
 Text(0, 0.5, 'Mean_Life_Expectancy')]
